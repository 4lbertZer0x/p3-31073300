<%- include('../partials/header') %>
        <main class="main-content admin-reviews">
            <div class="admin-header">
                <h2>Gesti√≥n de Cr√≠ticas</h2>
                <p>Modera las cr√≠ticas escritas por los usuarios</p>
            </div>

            <div class="reviews-table-container">
                <table class="reviews-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>T√≠tulo</th>
                            <th>Tipo</th>
                            <th>Usuario</th>
                            <th>Rating</th>
                            <th>Fecha</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>
                    <tbody>
                        <% reviews.forEach(review => { %>
                            <tr>
                                <td><%= review.id %></td>
                                <td><strong><%= review.title %></strong></td>
                                <td>
                                    <span class="type-badge <%= review.type %>">
                                        <%= review.type === 'movie' ? 'üé¨ Pel√≠cula' : 'üì∫ Serie' %>
                                    </span>
                                </td>
                                <td><%= review.username %></td>
                                <td>
                                    <div class="rating-stars">
                                        <% for (let i = 1; i <= 5; i++) { %>
                                            <span class="star <%= i <= review.rating ? 'filled' : '' %>">‚≠ê</span>
                                        <% } %>
                                    </div>
                                </td>
                                <td><%= review.date %></td>
                                <td>
                                    <div class="action-buttons">
                                        <button class="btn btn-small btn-info" onclick="showReview( review.id )">Ver</button>
                                        <button class="btn btn-small btn-danger">Eliminar</button>
                                    </div>
                                </td>
                            </tr>
                        <% }); %>
                    </tbody>
                </table>
            </div>

            <!-- Modal para ver cr√≠tica completa -->
            <div id="reviewModal" class="modal">
                <div class="modal-content">
                    <span class="close">&times;</span>
                    <h3>Cr√≠tica Completa</h3>
                    <div id="reviewModalContent"></div>
                </div>
            </div>
        </main>

        <script>
            function showReview(reviewId) {
                // En una aplicaci√≥n real, har√≠as una petici√≥n al servidor
                // Por ahora mostramos un mensaje simple
                document.getElementById('reviewModalContent').innerHTML = `
                    <p><strong>ID:</strong> ${reviewId}</p>
                    <p>Esta funcionalidad se conectar√≠a a una base de datos real para mostrar la cr√≠tica completa.</p>
                `;
                document.getElementById('reviewModal').style.display = 'block';
            }

            // Cerrar modal
            document.querySelector('.close').onclick = function() {
                document.getElementById('reviewModal').style.display = 'none';
            }
        </script>
<%- include('../partials/footer') %>